{
  "id": "5f6a324a-6d82-417b-ad6f-fafb7304be04",
  "name": "Caesars_Identity Profile _Employee_ADProvFlagBR",
  "type": "static",
  "attributes": {
    "assignmentStatusType": {
      "type": "upper",
      "attributes": {
        "input": {
          "type": "firstValid",
          "attributes": {
            "values": [
              {
                "type": "accountAttribute",
                "attributes": {
                  "sourceName": "CZR-Application-OICWebservice",
                  "attributeName": "AssignmentStatusType"
                }
              },
              "none"
            ]
          }
        }
      }
    },
    "workerType": {
      "type": "upper",
      "attributes": {
        "input": {
          "type": "firstValid",
          "attributes": {
            "values": [
              {
                "type": "accountAttribute",
                "attributes": {
                  "sourceName": "CZR-Application-OICWebservice",
                  "attributeName": "WorkerType"
                }
              },
              "none"
            ]
          }
        }
      }
    },
    "primaryAssignment": {
      "type": "upper",
      "attributes": {
        "input": {
          "type": "firstValid",
          "attributes": {
            "values": [
              {
                "type": "accountAttribute",
                "attributes": {
                  "sourceName": "CZR-Application-OICWebservice",
                  "attributeName": "PrimaryAssignment"
                }
              },
              "none"
            ]
          }
        }
      }
    },
    "primaryWorkRelationship": {
      "type": "upper",
      "attributes": {
        "input": {
          "type": "firstValid",
          "attributes": {
            "values": [
              {
                "type": "accountAttribute",
                "attributes": {
                  "sourceName": "CZR-Application-OICWebservice",
                  "attributeName": "PrimaryWorkRelationship"
                }
              },
              "none"
            ]
          }
        }
      }
    },
    "completeTermination": {
      "type": "upper",
      "attributes": {
        "input": {
          "type": "firstValid",
          "attributes": {
            "values": [
              {
                "type": "accountAttribute",
                "attributes": {
                  "sourceName": "CZR-Application-OICWebservice",
                  "attributeName": "CompleteTermination"
                }
              },
              "none"
            ]
          }
        }
      }
    },
    "excludedLocationFlag": {
      "type": "reference",
      "attributes": {
        "id": "Caesars_Identity Profile_Employee_ExclLocFlag"
      }
    },
    "managementLevelFlag": {
      "type": "reference",
      "attributes": {
        "id": "Caesars_Identity Profile_Employee_MgntLvlFlag"
      }
    },
    "mappedADDomain": {
      "type": "reference",
      "attributes": {
        "id": "Caesars_Identity Profile_Employee_MappedADDomain"
      }
    },
    "canCreateAD": {
      "type": "conditional",
      "attributes": {
        "empType": {
          "type": "upper",
          "attributes": {
            "input": {
              "type": "firstValid",
              "attributes": {
                "values": [
                  {
                    "type": "accountAttribute",
                    "attributes": {
                      "sourceName": "CZR-Application-OICWebservice",
                      "attributeName": "WorkerType"
                    }
                  },
                  {
                    "attributes": {
                      "value": "none"
                    },
                    "type": "static"
                  }
                ]
              }
            }
          }
        },
        "assignmentStartDate": {
          "type": "static",
          "attributes": {
            "assStDt": {
              "type": "firstValid",
              "attributes": {
                "values": [
                  {
                    "type": "accountAttribute",
                    "attributes": {
                      "sourceName": "CZR-Application-OICWebservice",
                      "attributeName": "AsgStartDate"
                    }
                  },
                  {
                    "type": "static",
                    "attributes": {
                      "value": "none"
                    }
                  }
                ]
              }
            },
            "proStDt": {
              "type": "firstValid",
              "attributes": {
                "values": [
                  {
                    "type": "accountAttribute",
                    "attributes": {
                      "sourceName": "CZR-Application-OICWebservice",
                      "attributeName": "ProjectedStartDate"
                    }
                  },
                  {
                    "type": "static",
                    "attributes": {
                      "value": "none"
                    }
                  }
                ]
              }
            },
            "value": "#if($empType==\"E\")$assStDt#{else}$proStDt#end"
          }
        },
        "expression": "$assignmentStartDate eq none",
        "positiveCondition": "false",
        "negativeCondition": {
          "type": "dateCompare",
          "attributes": {
            "firstDate": {
              "type": "dateMath",
              "attributes": {
                "expression": "-21d",
                "roundUp": true,
                "requiresPeriodicRefresh": true,
                "input": {
                  "attributes": {
                    "requiresPeriodicRefresh": true,
                    "input": {
                      "type": "firstValid",
                      "attributes": {
                        "values": [
                          {
                            "attributes": {
                              "value": "#if($assignmentStartDate == \"none\")2999-12-31#{else}$assignmentStartDate#end"
                            },
                            "type": "static"
                          },
                          "2999-12-31"
                        ]
                      }
                    },
                    "inputFormat": "yyyy-MM-dd",
                    "outputFormat": "ISO8601"
                  },
                  "type": "dateFormat"
                }
              }
            },
            "secondDate": "now",
            "operator": "gt",
            "positiveCondition": "PENDING",
            "negativeCondition": "YES"
          }
        }
      }
    },
    "value": "#if($assignmentStatusType == \"none\" || $workerType == \"none\" || $primaryAssignment == \"none\" || $primaryWorkRelationship == \"none\" || $completeTermination == \"none\")N#else#if($assignmentStatusType == \"ACTIVE\" && (($workerType == \"E\" && $primaryAssignment == \"Y\" && $primaryWorkRelationship == \"Y\") || ($workerType == \"P\" && $primaryAssignment == \"Y\")) && $completeTermination == \"N\" && $excludedLocationFlag == \"false\" && $managementLevelFlag == \"true\")#if($canCreateAD == \"YES\")#if($mappedADDomain == \"CZR-Application-ActiveDirectory-Harrahs\")H#{else}I#end#elseif($canCreateAD == \"PENDING\")Y-PENDING#{else}N#end#{else}N#end#end"
  },
  "internal": false
}